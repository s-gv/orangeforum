{{ define "title" }}
Admin
{{ end }}

{{ define "body" }}

{{ if .User }}
Hi {{ .User.DisplayName }}!
{{ else }}
Hi guest!
{{ end }}

<form method="POST">
    {{ .csrfField }}
    <input type="text" name="forum_name" placeholder="Forum Name" minlength="3" maxlength="30" value="{{ .Domain.ForumName }}">

    <input type="checkbox" id="is_regular_signup_enabled" name="is_regular_signup_enabled" value="1" {{ if .Domain.IsRegularSignupEnabled }}checked{{ end }}>
    <label for="is_regular_signup_enabled">Enable public signup</label><br>

    <input type="checkbox" id="is_readonly" name="is_readonly" value="1" {{ if .Domain.IsReadOnly }}checked{{ end }}>
    <label for="is_readonly">Enable read-only mode</label><br>

    {{ if not .Domain.IsRegularSignupEnabled }}
    <input type="text" id="signup_token" name="signup_token" placeholder="Signup Token" minlength="3" maxlength="30" value="{{ .Domain.SignupToken }}">
        {{ if .Domain.SignupToken }}
        <label for="signup_token">Shareable private signup link: <a href="{{ .BasePath }}/auth/signup/{{ .Domain.SignupToken }}">https://{{ .Host }}{{ .BasePath }}/auth/signup/{{ .Domain.SignupToken }}</a></label><br>
        {{ end }}
    {{ end }}
    {{ if .ErrMsg }}
    <p style="color:red;">{{ .ErrMsg }}</p>
    {{ end }}
    <input type="submit" name="submit" value="Update">
</form>

<h2>Mods</h2>

{{ range .Mods }}
<form method="POST" action="{{ $.BasePath }}/admin/mods/delete">
    {{ $.csrfField }}
    {{ .Email }} ({{ .DisplayName }})
    <input type="hidden" name="mod_user_id" value="{{ .UserID }}">
    <input type="submit" name="submit" value="Remove">
</form>
{{ end }}

Add new mod
<form method="POST" action="{{ .BasePath }}/admin/mods/create">
    {{ .csrfField }}
    <input type="email" name="mod_user_email" placeholder="Email">
    <input type="submit" name="submit" value="Add">
</form>

<h2>Categories</h2>
{{ range .Categories }}
<form method="POST" action="{{ $.BasePath }}/admin/categories/{{ .CategoryID }}">
    {{ $.csrfField }}
    <input type="text" name="name" placeholder="Category Name" minlength="3" maxlength="30" value="{{ .Name }}">
    <input type="text" name="description" placeholder="Description" maxlength="200" value="{{ .Description }}">

    <input type="checkbox" id="is_readonly" name="is_readonly" value="1" {{ if .IsReadOnly }}checked{{ end }}>
    <label for="is_readonly">Enable read-only mode</label><br>

    <input type="checkbox" id="is_private" name="is_private" value="1" {{ if .IsPrivate }}checked{{ end }}>
    <label for="is_private">Enable private mode</label><br>

    <input type="checkbox" id="is_archived" name="is_archived" value="1" {{ if .ArchivedAt.Valid }}checked{{ end }}>
    <label for="is_archived">Archived</label><br>

    <input type="submit" name="submit" value="Update">
</form>
{{ end }}

Add new category
<form method="POST" action="{{ .BasePath }}/admin/categories/create">
    {{ .csrfField }}
    <input type="text" name="name" placeholder="Category Name" minlength="3" maxlength="30">
    <input type="text" name="description" placeholder="Description" maxlength="200">
    <input type="submit" name="submit" value="Add">
</form>


{{ end }}